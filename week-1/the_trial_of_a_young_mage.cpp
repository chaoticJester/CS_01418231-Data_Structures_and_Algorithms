#include <iostream>
#include <string>
#include <cmath>
#include <vector>
using namespace std;

//ใช้คำนวนคะแนนสูงสุดที่เป็นไปได้ ด้วย algo จากโจทย์ unbound knapsack
float pathToVictory(int i, vector<int> &cost, vector<int> &score, vector<int> &mod, int spell_limit, int mana_limit, int spell_known) {
    float cast = 0.0;
    if (i == spell_known || spell_limit == 0) {
        return 0;
    } else if (cost[i] <= mana_limit) {
        cast = (score[i] * mod[i] / 100.0) + pathToVictory(i, cost, score, mod, spell_limit - 1, mana_limit - cost[i], spell_known);
    }
    float dontCast = pathToVictory(i + 1, cost, score, mod, spell_limit, mana_limit, spell_known);

    // ผลลัพธ์ที่ดีที่สุด
    return max(cast, dontCast);
}

//ใช้เรียกฟังค์ชั่น pathToVictory
float calMaxScore(vector<int> &cost, vector<int> &score, vector<int> &mod, int spell_limit, int mana_limit, int spell_known) {
    return pathToVictory(0, cost, score, mod, spell_limit, mana_limit, spell_known);
}


int main() {
    //สร้างตัวแปรและรับจำนวนคาถาที่ทางโรงเรียนอนุญาตให้ผู้เข้าสอบใช้ จำนวนมานาที่มิเอนะมี
    //และจำนวนคาถาที่มิเอนะ
    int spell_limit;
    int miena_mana;
    int spell_known;

    cin >> spell_limit >> miena_mana;
    cin >> spell_known;

    //สร้าง Array ของ Spell
    vector<int> spells_cost(spell_known);
    vector<int> spells_score(spell_known);
    vector<int> spells_mod(spell_known);
    string line;
    
    //ลูปรับคาถาที่มิเอนะใช้ได้
    for(int i = 0; i < spell_known; i++) {

        char type;
        int level;
        cin >> type >> level;
        cin.ignore();
        getline(cin, line);
        int last_space = line.rfind(' ');
        spells_cost[i] = stoi(line.substr(last_space + 1));


        if(type == 'F' || type == 'W') {
            spells_score[i] = 12;
        } else if(type == 'A') {
            spells_score[i] = 15;
        } else if(type == 'E') {
            spells_score[i] = 10;
        } else if(type == 'L' || type == 'D') {
            spells_score[i] = 20;
        } 

        if(level >= 1 && level <= 5) {
            spells_mod[i] = 10 * level;
        } else if(level == 6 || level == 7) {
            spells_mod[i] = 50 + (15 * (level - 5));
        } else if(level == 8) {
            spells_mod[i] = 100;
        }
    }


    cout << calMaxScore(spells_cost, spells_score, spells_mod, spell_limit, miena_mana, spell_known) << endl;
    return 0; 
}




// ---------==============+****##############*##%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%@@%@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
// ---------===============***#################*###%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
// :::--==================****##################***#%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%@@%%%@@%%@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
// :::::::--**+==========+**#####################***#*%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%@@%%@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
// :::::::=+**++=========**################*+######***#%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%@@@%@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
// ::::::-=+**==========**#################+++++*########%%%%%%%%%%%%%%%%%%%%%%%%%%%%@@%@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
// ::::::-+**==========+*#################+++++*##*******###%%%%%%%%%%%%%%%%%%%%%%%%%@%@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@%%@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
// :::::-+**===========**###############%#**************#######%%%%%%%%%%%%@%%%%%%%%%@@%@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@%@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
// ::::-=+**+=========**##################*++++++++++*%###%%####%%%%%%%%%%%%%@%%%%@%@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@%@@@%%@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
// ::::-+**==========+*#################-----+##++%%%%%%%%%%%%%%%%%%%%%@@@@%%%%%%%%%%%@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@%%@%@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
// :::-++*===========**################=--------=**#%%%%%%%%%%%%%%%%%%%%@@@@@%%@@@@@@@#@@@@@@@@@@@@@@@@@@@@@@@%@%@@@@@@@@%%@@@@%%%@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
// :::=+*+==========**################*-------=*#%%%####%%%%%%%%%%%%%%%%%%%%@@%%%%@@@@%%#@@@@@@@@@@@@@@@@@#%%%#@@@@@@@@@@@@%%%%%%%@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
// ::-+++===========*################*-----+***#**###%%%%##%%%%%%###%%#########%%@%%######%%@%@@@@@@@%%%@%#%%@@%%@%%%%%%@@%%%%%%%%%@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
// :-=+*-=-========*################*+-------**##*%%####%%%%#%%##%*+####%%%###############%######%@###%@%##%@%@@%%%%%%%%%%%%%%%%%@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
// :-++===========+*################*-:-:---***#####%%%%****%%*##=*----++*#%%%##%%########%###########@%%@%%@@%%%%%%%%%%%%%%%%%%@@%%@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
// -+++--=========*################*-:::::-**-***+--=%%*++*#%#*#=%+---==-:#-*=############%#%#######%@#%%%%#%@%%%%%%%%%%%%%%%%%%@@@%@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
// =+*-==========**###############**::::::-+-:------#%%++***%*+*--+--+*-----#-----:+###%###%###%%%%@##%%%%%%%%%%%%%%%%%%%%%%%%%@@@@%@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
// ++==--========*################*:::::::=::::-----%%#+++****=+---+-::---*+---------=-#%%%#%%%%%%%%%%%%%@%%%%%%%%%%%%%%%%%%%%@@@@@%@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@%%%
// ++---========**###############*+::::::::::::::--#%%+++****+-=*-------*+::---=---+#-=*-==%%%#%##%%%%@%%%%%@%%%%%%%%%%%%%%%%%%%%%@@@@@@@@@%%%%%%%%%%%%@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@%%@
// +-=--========*################*:::::::::::::::--#%#++*****=--*=---+#*---------*=------------%@%@@%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%@@@@@@@@%%%%%%%%%%%%%%%%%%%%%@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@%%@
// +=---=======*################*+:::::::::::::::-+%%+++*****---=--==**=------:-------------------=###%%%%%%%%%%%%%%%%%%%%@%%%@%%@@@@@@@@@@#########%#%%%%%%%%%%@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@%%@
// -----=======*###############**::::::::::::::::-#%#+++****=----*--%------------:---------=-+--==+----#%%%%%%%%%%%%%%%%%%%%%@@@%%@@@@@@@@@#################%%%%@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@%%@
// =----======*################*=::::::::::::::::=%%+++*#***--=--=-=--::::--#*+*###########*=+---=---:-#=-%@%@@@@@%@%%%%%%%%@%%%%%%@%@@@@@@################%%%%%@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@%%@
// ----=======*###############**:::::::::::::::::#%%*+*****+-+:::+*---:-+---------++++#%#+-----++-----+-%%%%%%%%#+*#%%%%%%@@@@%%%%@%%%%@@@@##############%#%%%%%@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@%%
// ----======*################*=::::::::::::::::-%%*+**#***++#%%-:-=-=-------:=---+**#%%%%#=----:----:-%%%%%%@@#*+*+*#@@%%%%%%@@%%%%-%%@@@@%%%%%@@@@@@%%%%%%%%%%@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@%%%
// ----======*###############*+:::::::::::::::::#%%++*********%%-:--**-------+%*+=*@@@*=#%%%#:-#-----+%%%%%##=::%@@@@--==%@@%%%%%@@%%%%@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@%%%
// ---======+################*-:::::::::::::::-#%#+***######%%#=--*--#-------::::::%@@%-::%%%+--+*==*%%%%%-=::::#@@@#=:::%%%%%%%%@@@%%%@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
// ---======#################*:::::::::::::::*#%*+***%%**##%%%#-#@@%%-------+++:::%###%:::#%%%#-+%%=-%@@%#=---+::=%%-:=-%%%%%%%%%%%%@%@%%%%%%@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
// ---=====+################*-:::::::::::::-#%#*######%%#######:=#%@#*--------===:::::=*#%%@%----@%%=@@@@%%==--+=+-:-*%%%%%%@%%%%@%@%%%%%%%@%%%@@@%%%@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
// ---=====*################*:::::::-++*+**###****#*#*##+-+##@@-----+---------------+**%%%@#-----@#=-%%%@%%%=----------=%@@%@%%@%%@%%@@@@@%%@@@@@@@@@%%%@%%@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
// --=====+#################+=+****************##+-*######%##%%%---%@%------------------#@*------@**-%%%%@%%%%%++---:--%%@@@@%%%@%%%%@@@@@@@@@@@@%@@@@%%%%%%%@@%@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
// --=====*###############*:=*+***********#+-+##########%@@@@@@@@=--+#@%---::--+=+------=++------+*%-%@%%@@@@@@@@#---#%@%%@@@%%@@@%%@@@@@@@@@@@@@@@@@@@%%%%%%%%%%%@%%@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
// -======*##############-=+**********#-+#****####%%%@@@@@@@@@@@@@%*--%%*--===-+-=#+*=-:----------+--#%%%@%%%%%%%%#=%%%%@@%@%@@%@%@@@@@@@@@@@@@@@@@@@@@@@@@@%%%%%%%%%%%#%@@@@@@@@@@@@@%@@@@@@@@@@@@
// -=====*###############+++#****#+#********#%@%%@@@@@@@@@@@@@@@@@@%=*-=#=-------:--------------=+---%%@@%%%%%%%%%%%%%%%@%%@%%%%%#=+#%@@@@@@@@@@@@@@@@@@@@@@@@@@@@%%%%%%%%%+@@@@@@@@@@@%%@@@@@@@@@@
// ======*##############-++**-+*********%%%%%%%%%%%@@@@@@@@@%%#=-==-=---------------------------*%=--#@@@%%%%%%%%%%%%@%%@@@@@%%%===========+#@@@@@@@@@@@@@@@@@@@@@@@@@@%%%%%==-=#@@@@@@%%%@@@@@@@@@
// =====+############*=-+*********#%%%%%%%%%%%%%%%%%%%%%%*=-===--==+=#*++-----------------------%@*--%@@%@%%%%%%%%%@@@@@@@@%@*=================*@@@@@@@@@@@@@@@@@@@@@@@@@@@@======-==+#%%@@@@@@@@@@
// ==+++=-----=++*#**+++****#%%%%%%%%%%%%%%%%%%%%%%#*=--------====++#%*#=:=-------------------+*%%+%%@%@%%%%%%%%%%%%%@%%@@%@%==============%*==*@%%#%@%#@@@@@@@@@@@@@@@@@@@@%%%%@%==========+@@@@@@
// ==:**+*++++++++####%%%%%%%%%%%%%%%%%%%%%%%#*=--------------=====*#*#=*+-+---------------------%%%%%%%%%%%%%%%%%@@%%@@%%%%%============##=+++*%%%%###%*%#=+%@@@@@@@@@@@@@@%%%%%%@@=========%@@@@@
// ==:=*+++*+*#++#%%%%%%%%%%%%%%%%%%%%%#+==-------------------=--*%##+*+=*------------------------%%%%%%%%%@@%%@@@@%@%%%%%@%%===========#=#+==+*#+**#####+#++++++%@@@@@@@@%%%%%%%%%%@#======*%@@@@@
// ===:=+++**+++%%%%%%%%%%%%%%%%*+=--------------------------===###%###+==::=---------=-----------%@%%%%@%@@@@%%%%%%%%%%%@@@%===========#==++*======*=====*%*+++++++*%@@%%@%%%%%%%%%%@@+====%@@@@@@
// ====-=++++++#%%%%%%%%%%%%%%--------===----=------------=+*+**+###***===---+----#%**:------------=-*%%@@@@@@%%%%@@%@%%%@@@#=========++==============#++=*#+%+++++++++%%%%@@%%%%%%%%@@====%%@@@@@@
// ===*:==+++++%%%%%%%%%%%%%#=-------------==--+==---==+++***++#*###*+====*---*--@+:--:--@%@#+%#*****##@@@@@@@%%@%@@@@@%@@@@*========================#+==#@@++++++++++++%%%@@%%%%%%%%@#====%%=+#%%%
// ===**:+++++++%%%%%%%%%%%%+=-==------===+====+===++*==+**+===+*=+*======*----#*--------------------@@@@%%%%%@@%%@@@@@@%%%%+=======================#==+%@@+++++++++++++*%%%%%%%%%%%@@====@%@%%%%%%
// ==+##*:++++++*%%%%%%%%%%#=========+=====+=+======++-=====--====*========:----#%#-----------#%@@@@%%%%%%@@%%%%@@@@@@@%%%%%=============================**++++++++++++++@%%%%%%%%%%@*===*%@@%%%%%%
// ==###*+:+++*#**%@%%%%%%%==========+++====--=-===**==------==============:----=%%%#---------------*%%@%%%%%@@@@%@@@@@%%%%%======================*+===+##++++++++++++++*+%%%%%%%%%@@====%%%@%%%%%%
// ==####*::+++##*#%@@%%%%+=========+=*========-==**#*=--------============+-----#%%%%%--------------%@%%@@@%%@%@%@@@%@%%%%%=====================#======++++++++++++++++*+#%%%%%*++=====%%@%%%%%%%%
// =*#####*:=++%%%##%%%%%%======================++##*=-------==============*-----=%%%%=@%=---------:+%%@@%%%%%@%%%%@%%%%%%@%====================%+======++++++++++++++++*@@%**%#*#=====*%%%%#%%%%%%
// =######*=:++####*********===================-+*@#=------=-==============+-----+%@@%--=@%*--------@@@%@%@%@%%%%%%@%@%%@@%%#==================%#======++++++++++++++++*%%@@*%==*======%%%%%*%%%%%%
// +######*:::+###**********====================*#%=--------===========+*###-----**+%%=---+%@%-----#%@@@@%@%%%%%%%@@%%%%@@%%%%%%+=============@%%=====++++++++++++++++**@+====*+======%%%%%%*%%%%%%
// *######:::::*%%***********=================+%#**+=-------=-====+######%##----==--=%=-----=%@%%-----#@%@%%%%%%%@%%%%%@@@%%%%%%%%%%=========%@#====+*+++++++++++++++++@*@===+=======%%%%%%@#%%%%%%
// #*------==---#%*#*********#=================*==++++--=---===%%%###%%%%#+--===*=##:*+--------%%@@@@@@@%%%%%%%%%%%%%%@@@@@%%%%%%%%%%%%*=====%%*=+=*#*++++++++++++++++**#===--======+%%%%%%@%@%%%%%
// +---------------=+##%#*****+==================*#+=%+===-+%@@@%@%%%%%+--------#--:------------*%@@%@@@@@%%%%%%%%@%%@@%@@@%%%%%@%%%%%%%%%#*@%##=+%**+*+++++++++++++++*+-===========%%%%%%@%@@%%%%%
// ---------------=#=+%***+===**================%##*+%*+#%@####%%#%@@%*-----------*--+++----------%%@@@@%#--%%%%%@%%@@@%@@@@%%%%%@@%%%%%%%%%%%+=##+*#++++++++++++++++%+==+=========%%%%%%%%%%%%%%%%
// -----===-----==#+============##*#+=========*####%@%@@@###%@@%%@@@%-------------=#+*=-*---------#@@@#----+%%%%%@@%%@@%@@@@%%%%%@@@@%%%%%%%%%@@%@+++++++++++++++++++=-=+=========@%%%%%%@%%%#@@%%%
// ----#=*-====***##+==========########+=====#=%#%%@@@%%####@@%%%%-++==:-----:----=%#%--#----------:-------%%%%%%%%*-*#@@@@@@%%%%%@@@@@%%%%%@@%%%+++++++++++++++++++#=-*=-=======%%%%%%%@%%%=*@@@@@
// -+#*-+##+==*===============######%%%###===++%#%@@@####@@%%%%%*-#+*=-------=----@#=---+%----------------=%%%%@%%%--%--*%%%%%%%%%%@@@@@@@@@@==#%=#=++++++++++++++++==-==-======#%%%%%%@@%*--+@@@@@
// *--#%%%*=-+++===========*+=####%%%%%%%%%*==+++%####@@@%%%%%%---*%+------------@%------%%-:-------------%%%%%%%%+-#----=%%%%%%%%%%@%@@@@=-----=#%%*=++++++++++++++#--=-======+%%%%%%%@@-:--+@@@@@
// ##--*%%+--=============*##%%%%#%#%%%%%@%%%%%@%#**#@@@@@%%%#--=%%==*:=-----------------#%%-------------=%%%%%%%%---------%%%%%%%%%@@@@@@*#=---+%%=++-=*+++++++++++++========-%%%%%%%@@@=-==*@@@@@


